{{- if not (eq (toString .Values.extraConfigMapMounts) "<nil>") }}
[WARNING] "extraConfigMapMounts" parameter is deprecated, please use "extraVolumes" or "extraVolumesMounts" instead.
{{ end }}

{{- if not (eq (toString .Values.extraHostPathMounts) "<nil>") }}
[WARNING] "extraHostPathMounts" parameter is deprecated, please use "extraVolumes" or "extraVolumesMounts" instead.
{{ end }}

{{- if not (eq (toString .Values.secretMounts) "<nil>") }}
[WARNING] "secretMounts" parameter is deprecated, please use "extraVolumes" or "extraVolumeMounts" instead.
{{ end }}

{{- if and (not (eq .Values.mode "daemonset")) (not (eq .Values.mode "deployment")) }}
{{ fail "[ERROR] 'mode' must be set. See https://github.com/open-telemetry/opentelemetry-helm-charts/blob/main/charts/opentelemetry-collector/UPGRADING.md for instructions." }}
{{ end }}

{{- if and (not .Values.configMap.create) (or (eq (toString .Values.extraVolumes) "<nil>") (eq (toString .Values.extraVolumeMounts) "<nil>") ) }}
{{ fail "[WARNING] 'configMap' wil not be created, please provide your custom configs by unsing  'extraVolumes' or 'extraVolumeMounts'." }}
{{ end }}
